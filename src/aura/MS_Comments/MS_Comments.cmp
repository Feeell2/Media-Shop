<aura:component
        implements="flexipage:availableForAllPageTypes,force:hasRecordId,forceCommunity:availableForAllPageTypes"
        description="MS_Comments" controller="MS_Comment" access="global">
    <aura:attribute name="text" type="String"/>
    <aura:attribute name="listComments" type="Object[]"/>
    <aura:attribute name="userType" type="String"/>
    <aura:attribute name="sizeLists" type="Integer" default="0"/>
    <aura:attribute name="type" type="String"/>
    <aura:attribute name="message" type="String"/>

    <c:MS_ToastService type="{!v.type}" message="{!v.message}" aura:id="toastCommentsComponent"/>
    <aura:handler name="init" value="{!this}" action="{!c.init}"/>
    <aura:if isTrue="{!v.userType!='Guest'}">
        <lightning:textarea value="{!v.text}" label="Add your comment" placeholder="type here..."/>
        <div class="slds-grid slds">
            <lightning:button variant="brand" label="Add comment" onclick="{!c.addCommentController}"/>
        </div>
    </aura:if>
    <div class="slds-m-top_medium">
        <h1 class="slds-card__header-title slds-m-left_medium slds-m-bottom_medium">Reviews</h1>
        <lightning:layout multipleRows="true">
            <div class="slds-grid slds-grid_vertical" style="width:100%">
                <aura:iteration items='{!v.listComments}' var='comment'>
                    <c:MS_CommentTile comment="{!comment}"/>
                </aura:iteration>
            </div>
        </lightning:layout>
    </div>
</aura:component>